const cardDataBySection = {
    backend: [
        {
            title: "Database",
            subtitle: "Architecture & Deployment",
            sections: [
                {
                    title: "Overview",
                    content: `<ul>
                        <li>Worked with both MongoDB Atlas Cloud and local MongoDB instances</li>
                        <li>Integrated MongoDB with Go and Python applications.</li>
                        <li>Added indexing for query optimization</li>
                        <li>Containerized databases with Docker and configured MongoDB Replica Sets for scalable deployments.</li>
                    </ul>`
                },
                {
                    title: "Experience",
                    content: `See my relevant experience as <strong>Software Engineer at Rutger OSS</strong>`
                }
            ]
        },
        {
            title: "Languages",
            subtitle: "Go & Python",
            sections: [
                {
                    title: "Go (GoLang)",
                    content: `<ul>
                        <li>Gin Engine</li>
                        <li>Authentication</li>
                        <li>RESTful APIs</li>
                        <li>Publish Modules</li>
                        <li>System Automation</li>
                        <li>Database</li>
                    </ul>`
                },
                {
                    title: "Python",
                    content: `<ul>
                        <li>Flask</li>
                        <li>AI API Integration</li>
                        <li>Data Process Pipeline</li>
                        <li>Data Validation</li>
                        <li>Framework Integration</li>
                    </ul>`
                }
            ]
        },
        {
            title: "API Integration",
            subtitle: "Google Cloud & MongoDB",
            sections: [
                {
                    title: "Google Cloud",
                    content: `I have integrated Google Cloud APIs, with a focus on Google Calendar and Gmail services. This work involved configuring service accounts, managing IAM roles with administrative access, and implementing authorization protocols. The integration was developed using Golang.`
                },
                {
                    title: "MongoDB",
                    content: `MongoDB is my primary database for data storage and management. My experience includes:
                    <ul>
                        <li>Worked with both MongoDB Atlas Cloud and local MongoDB instances</li>
                        <li>Integrated MongoDB with Go and Python applications.</li>
                        <li>Added indexing for query optimization</li>
                        <li>Containerized databases with Docker and configured MongoDB Replica Sets for scalable deployments.</li>
                    </ul>`
                }
            ]
        },
        {
            title: "Collaboration",
            subtitle: "Tools & Platforms",
            sections: [
                {
                    title: "Tools & Platforms",
                    content: `<ul>
                        <li><strong>GitLab / GitHub</strong> - Use web-based platforms to provide version control and collaborate visually for development</li>
                        <li><strong>Notion</strong> - Plan, organize and divide tasks between team members</li>
                        <li><strong>English & Chinese Open-Source</strong> - Access documentation and resources from both English & Chinese platforms</li>
                    </ul>`
                }
            ]
        }
    ],
    frontend: [
        {
            title: "Website",
            subtitle: "Design & Development",
            sections: [
                {
                    title: "Overview",
                    content: `I have extensive experience in designing websites, including visual design, architecture, user interaction features, and data processing. I always strive to add unique element in design and take on user-centered thinking to improve every detail.`
                },
                {
                    title: "Skill",
                    content: `<ul>
                        <li>Plan, design & build clear website layout & flow</li>
                        <li>Design pleasing, unique, and creative visual representations</li>
                        <li>Program responsive website for both mobile & PC</li>
                        <li>Build interactive user experience and immersive transition</li>
                        <li>Create journal content to use in the website</li>
                    </ul>`
                },
                {
                    title: "Showcase",
                    content: `This profile website is fully designed and developed by myself. Thank you for taking the time to view my profile.`
                }
            ]
        },
        {
            title: "React",
            subtitle: "Framework & Components",
            sections: [
                {
                    title: "Overview",
                    content: `I have worked intensively with the React framework as a developer at Rutgers Open System Solutions (OSS).`
                },
                {
                    title: "Skillset",
                    content: `<ul>
                        <li>Utilizing React hooks to efficiently manage data flow and website state</li>
                        <li>Developing reusable components and interactive features, such as forms, tables, and filters.</li>
                        <li>Seamlessly integrating frontend components with backend services using REST API, ensuring accurate data display and real-time updates.</li>
                        <li>Implementing various libraries and packages, including React-Toast and MUI Material, to enhance functionality and user experience.</li>
                    </ul>`
                }
            ]
        },
        {
            title: "Languages",
            subtitle: "JavaScript, HTML & CSS",
            sections: [
                {
                    title: "JavaScript",
                    content: `My primary language for developing Frontend application. I am familiar with the fundamentals of functional programming language and am adept at writing efficient, modular JavaScript code. This allows me to create interactive elements, manage application state, and effectively handle user interactions.`
                },
                {
                    title: "HTML & CSS",
                    content: `This website is built entirely with HTML, CSS, and Javascript without relying on any framework. While integrating other libraries can enhance efficiency, I frequently utilize CSS for customized styling.`
                }
            ]
        },
        {
            title: "Digital Art",
            subtitle: "Design & Creative Skills",
            sections: [
                {
                    title: "Overview",
                    content: `Drawing is one of my favorite personal hobbies that I have integrated into my professional work in UI/UX design. My skills include digital Painting, character design, concept Art, photoshop/image manipulation, and graphic design.`
                },
                {
                    title: "Toolbox",
                    content: `<ul>
                        <li><strong>Gimp</strong> - powerful open-source graphics editor used for image manipulation and editing</li>
                        <li><strong>Sketchbook</strong> - digital art software for sketching, painting, and illustration</li>
                        <li><strong>AI art</strong> - Use AI to brainstorm and produce art</li>
                    </ul>`
                }
            ]
        }
    ],
    ai: [
        {
            title: "Algorithms",
            subtitle: "ML Techniques",
            sections: [
                {
                    title: "Experience",
                    content: `As part of the Break Through Tech AI Program, I have studied and developed various types of ML algorithms, mastering techniques such as data cleansing, feature engineering, hyperparameter tuning, model comparison, optimization, and deployment. Additionally, I gained insights into business practices, including problem understanding and ethical AI.`
                },
                {
                    title: "Algorithms",
                    content: `<ul>
                        <li>Decision Trees</li>
                        <li>Gradient Boosting Algorithm</li>
                        <li>K-nearest neighbor (KNN)</li>
                        <li>Logistic/linear Regression</li>
                        <li>linear and ensemble methods</li>
                        <li>Neural Networks</li>
                    </ul>`
                }
            ]
        },
        {
            title: "Python",
            subtitle: "ML Development",
            sections: [
                {
                    title: "Overview",
                    content: `Python is one of my strongest programming languages and my primary choice for ML/AI development. My experience spans data analysis, data cleansing, ML model development, competitive programming algorithms, and backend development using Flask. I have published Macrocorr, a python package for economic data analysis.`
                },
                {
                    title: "Libraries",
                    content: `<ul>
                        <li><strong>Pandas, NumPy</strong>: Data analysis, feature engineering, and data cleansing.</li>
                        <li><strong>Matplotlib, Seaborn</strong>: Plotting and data visualization.</li>
                        <li><strong>Scikit-learn, TensorFlow, Keras</strong>: ML model development.</li>
                    </ul>`
                }
            ]
        },
        {
            title: "Natural Language Processing",
            subtitle: "NLP & LLMs",
            sections: [
                {
                    title: "Experiences",
                    content: `In the AI-Enhanced Customer Interaction Assistant project with DXC Technology, I will be working on natural language processing, utilizing Large Language Models like LLaMA to create advanced AI techs including personalized recommendation system and a functional chatbot.`
                },
                {
                    title: "Skillsets",
                    content: `<ul>
                        <li><strong>Data Cleaning and Preprocessing</strong>: Techniques such as lemmatization and tokenization.</li>
                        <li><strong>Text Vectorization</strong>: TF-IDF (Term Frequency-Inverse Document Frequency) vectorization and word embedding.</li>
                        <li><strong>Sequence-to-Sequence Models</strong>: Implementation of encoder and decoder architectures.</li>
                        <li><strong>Deep Neural Networks</strong>: Development and application of deep neural network models for NLP tasks such as sentimental analysis</li>
                    </ul>`
                }
            ]
        },
        {
            title: "Reinforcement Learning",
            subtitle: "RL & Game AI",
            sections: [
                {
                    title: "Research",
                    content: `I will be joining the research: Symbolic Reasoning for Improving Exploration in Sparse Reward Reinforcement Learning Environments with Dr. He Zhu as a research assistant.`
                },
                {
                    title: "Unity ML Agents",
                    content: `From personal interest, I explored the ML agents in Unity Game Engine and learned several techniques, including setting effective inputs, reducing noise, tuning and testing configurations, and implementing concurrent training sessions.`
                }
            ]
        }
    ],
    tool: [
        {
            title: "Key Dev Tools",
            subtitle: "Docker & Git",
            sections: [
                {
                    title: "Docker",
                    content: `I am well-versed in Docker, including the use of containers, images, and other functionalities. I have successfully containerized multiple projects, including those involving frontend, backend, and database components.`
                },
                {
                    title: "Vision Control",
                    content: `I have extensive experience using GitHub & GitLab for both personal and professional projects. I am proficient with Git commands and have collaborated effectively with team members on various platforms.`
                },
                {
                    title: "Scripts & Terminal Flags",
                    content: `I have developed binary scripts to provide technical support to senior system administrators and perform unit testing. This includes setting up flags, managing different logging settings, and generating formatted output files.`
                }
            ]
        },
        {
            title: "Mobile Development",
            subtitle: "Java & Android",
            sections: [
                {
                    title: "Overview",
                    content: `As a developer at NinefoldTech Co., Ltd., I gained hands-on experience in mobile development. This experience provided me with a strong foundation in mobile development, including developing algorithms for key features, integrating libraries, and testing and debugging applications across multiple versions of mobile devices.`
                },
                {
                    title: "Java & Android Studio",
                    content: `My primary development environment is Android Studio, where I work extensively with Java. I have a solid understanding of object-oriented programming principles, reinforced through both academic coursework and professional experience. Additionally, I am well-versed in the fundamentals of Android Studio and its platform-specific functionalities.`
                }
            ]
        },
        {
            title: "Game Development",
            subtitle: "Unity & C#",
            sections: [
                {
                    title: "Overview",
                    content: `I independently designed and developed OooMath, a 3D mobile game created using C# on the Unity Game Engine. I managed the entire production process, including game mechanics design, UI interface, and visual style, as well as development, testing, and deployment.`
                },
                {
                    title: "Skillset",
                    content: `<ul>
                        <li>Unity 2D/3D platform</li>
                        <li>Physical engine</li>
                        <li>UI/UX</li>
                        <li>Advanced Package: AI</li>
                        <li>Game mechanics, multiple scenes & levels</li>
                        <li>2D/3D Animation</li>
                        <li>Sound Effect</li>
                        <li>Multiplayer platform</li>
                        <li>Mobile & PC game design</li>
                        <li>Rendering for textures and materials</li>
                        <li>Debug & Testing</li>
                    </ul>`
                }
            ]
        },
        {
            title: "Project Management",
            subtitle: "Quality & Collaboration",
            sections: [
                {
                    title: "Overview",
                    content: `I have independently developed and deployed multiple personal projects, and I contribute to end-to-end product development in my professional work. I am skilled in designing project architecture, organizing tasks, tracking progress, and delivering high-quality results.`
                },
                {
                    title: "Toolbox",
                    content: `<ul>
                        <li><strong>Quality Code</strong>: I strive to write reusable and scalable code that meets general use cases.</li>
                        <li><strong>Technical documentation</strong>: As a developer at OSS, I have maintained organized, clean, and understandable documentation.</li>
                        <li><strong>Collaboration</strong>: I am comfortable working in a team environment, utilizing tools like Notion and GitLab for effective collaboration.</li>
                    </ul>`
                }
            ]
        }
    ],
    general: [
        {
            title: "Language",
            subtitle: "Communication Skills",
            sections: [
                {
                    title: "Languages",
                    content: `<strong>English</strong> - Proficiency in reading, writing, speaking, and listening. Capable of understanding formal language and academic writing. <br><br><strong>Mandarin</strong> - Native language; Proficiency in reading, writing, speaking, and listening. Moderate understanding of dialects of Mandarin. <br><br><strong>Korean</strong> - Rudimentary level of speaking and listening.`
                }
            ]
        },
        {
            title: "Education",
            subtitle: "Rutgers University",
            sections: [
                {
                    title: "Bachelor's Degree",
                    content: `<strong>Computer Science</strong><br>Honors College of Rutgers University-New Brunswick, NJ, US<br>Class of 2027<br><br>Learn more about Honors College and Rutgers University.`
                }
            ]
        },
        {
            title: "Culture",
            subtitle: "Global Experience",
            sections: [
                {
                    title: "China",
                    content: `Live in China for over 12 years. Stayed in several cities. Familiar with social media platforms in Mainland China, including Baidu, WeChat, Weibo, Bilibili TV, XiaoHongShu and more. Have working experience with Chinese Team.`
                },
                {
                    title: "US",
                    content: `Live in NJ, US for over 2 years. Attend Middle school and college in US.`
                },
                {
                    title: "South Korea",
                    content: `Live in Seoul, South Korea for 3 years. Attended highschool in South Korea. Nationality identifies as Korean.`
                }
            ]
        },
        {
            title: "Certificate",
            subtitle: "Achievements",
            sections: [
                {
                    title: "Certificates",
                    content: `<ul>
                        <li>Engineering internship of Oxford Scholastica Academy, Oxford University</li>
                        <li>Certificate of distinction, AMC 12- Top 5%</li>
                        <li>AP Scholar with Distinction & Honor</li>
                        <li>Valedictorian of KKFS, class of 2023</li>
                    </ul>`
                }
            ]
        }
    ]
};
function openModal(index, sectionClass) {
    const detailSection = document.querySelector(`.${sectionClass}.detail`);
    const modal = detailSection?.querySelector('.modal');
    const modalContent = detailSection?.querySelector('.modal-content');
    
    if (!modal || !modalContent) {
        console.error(`Modal or modal-content element not found in ${sectionClass} section`);
        return;
    }

    const sectionData = cardDataBySection[sectionClass];
    if (!sectionData || !sectionData[index]) {
        console.error(`No data found for ${sectionClass} section, index ${index}`);
        return;
    }

    const data = sectionData[index];

    let html = `
        <div class="modal-header">
            <h2 class="modal-title">${data.title}</h2>
            <p class="modal-subtitle">${data.subtitle}</p>
        </div>
    `;

    data.sections.forEach(section => {
        html += `
            <div class="modal-section">
                <h3 class="section-title">${section.title}</h3>
                <div class="section-content">${section.content}</div>
            </div>
        `;
    });

    html += `<button class="close-btn" onclick="closeModal('${sectionClass}')">‚Üê Back</button>`;

    modalContent.innerHTML = html;
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeModal(sectionClass) {
    const detailSection = document.querySelector(`.${sectionClass}.detail`);
    const modal = detailSection?.querySelector('.modal');
    
    if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }
}

// ==================== EVENT LISTENERS ====================
document.addEventListener('DOMContentLoaded', function() {
    // Attach modal event listeners to all detail sections
    const detailSections = document.querySelectorAll('.detail');
    
    detailSections.forEach(section => {
        const modal = section.querySelector('.modal');
        
        if (modal) {
            // Close modal when clicking outside the modal-content
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    const sectionClass = section.className.split(' ')[0]; // Get first class
                    closeModal(sectionClass);
                }
            });
        }
    });
});

// Close modal with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        const activeModal = document.querySelector('.modal.active');
        if (activeModal) {
            const detailSection = activeModal.closest('.detail');
            const sectionClass = detailSection.className.split(' ')[0]; // Get first class
            closeModal(sectionClass);
        }
    }
});